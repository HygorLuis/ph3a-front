<section class="container card container-absolute-center">
  <h2 class="sub-titulo">Incluir Parcela</h2>
  <hr />
  <form [formGroup]="parcelaForm" (ngSubmit)="onSubmit()" class="sub-container">
    <div class="form-group">
      <label for="parcela" class="placeholder" [ngClass]="{'title': !parcelaForm.get('parcela')?.hasError('required') || inputParcelaIsFocus}">Parcela</label>
      <input id="parcela" name="parcela" type="text" required mask="separator.0" formControlName="parcela" (focus)="inputParcelaIsFocus = true" (blur)="inputParcelaIsFocus = false"/>
      <div id="validacao-erro" [ngClass]="{'visible': submitted && parcelaForm.controls.parcela.invalid || (parcelaForm.get('parcela')?.hasError('required') && parcelaForm.get('parcela')?.touched)}">
        <p><span class="error">Preencha com valor entre 1 à 999.</span></p>
      </div>
    </div>

    <div class="form-group">
      <label for="valor" class="placeholder" [ngClass]="{'title': !parcelaForm.get('valor')?.hasError('required') || inputValorIsFocus}">Valor</label>
      <input id="valor" name="valor" type="text" required prefix="R$ " mask="separator.2" thousandSeparator="." formControlName="valor" (focus)="inputValorIsFocus = true" (blur)="inputValorIsFocus = false"/>
      <div id="validacao-erro" [ngClass]="{'visible': submitted && parcelaForm.controls.valor.invalid || (parcelaForm.get('valor')?.hasError('required') && parcelaForm.get('valor')?.touched)}">
        <p><span class="error" >Valor é obrigatório.</span></p>
      </div>
    </div>

    <div class="form-group">
      <label for="data-vencimento" class="placeholder" [ngClass]="{'title': !parcelaForm.get('dataVencimento')?.hasError('required') || inputDataVencimentoIsFocus}">Data de Vencimento</label>
      <input id="data-vencimento" name="data-vencimento" [type]="inputType" required formControlName="dataVencimento" (focus)="onFocus()"/>
      <div id="validacao-erro" [ngClass]="{'visible': submitted && parcelaForm.controls.dataVencimento.invalid || (parcelaForm.get('dataVencimento')?.hasError('required') && parcelaForm.get('dataVencimento')?.touched)}">
        <p><span class="error">Data de vencimento é obrigatório.</span></p>
      </div>
    </div>

    <div class="botoes">
      <button type="submit" class="botao">Salvar</button>
      <button type="reset" class="botao" (click)="fechar()">Voltar</button>
    </div>
  </form>
</section>
