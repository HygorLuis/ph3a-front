<section class="container card container-absolute-center">
  <h2 class="sub-titulo">Incluir Parcela</h2>
  <hr />
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="sub-container">
    <div class="form-group">
      <label for="parcela" class="label-parcela">Parcela</label>
      <input id="parcela" name="parcela" type="number" required formControlName="parcela"/>

      @if (submitted || (form.get('parcela')?.hasError('required') && form.get('parcela')?.touched)) {
        <span class="error">Número da parcela é obrigatório.</span>
      }

      @if (submitted || ((form.get('parcela')?.hasError('min') || form.get('parcela')?.hasError('max')) && form.get('parcela')?.touched)) {
        <span class="error">Preencha com valor entre 1 à 999.</span>
      }
    </div>

    <div class="form-group">
      <label for="valor">Valor</label>
      <input id="valor" name="valor" type="text" required prefix="R$ " mask="separator.2" thousandSeparator="." formControlName="valor"/>

      @if (submitted || (form.get('valor')?.hasError('required') && form.get('valor')?.touched)) {
        <span class="error">Valor é obrigatório.</span>
      }
    </div>

    <div class="form-group">
      <label for="data-vencimento">Data de Vencimento</label>
      <input id="data-vencimento" name="data-vencimento" type="date" required formControlName="dataVencimento"/>

      @if (submitted || (form.get('dataVencimento')?.hasError('required') && form.get('dataVencimento')?.touched)) {
        <span class="error">Data de vencimento é obrigatório.</span>
      }
    </div>

    <div class="botoes">
      <button type="submit" class="botao">Salvar</button>
      <button type="reset" class="botao" (click)="fechar()">Voltar</button>
    </div>
  </form>
</section>
